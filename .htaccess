# Enable URL rewriting
RewriteEngine On

# --------------------------------------------------
# 1. Serve existing files or directories directly
# --------------------------------------------------
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# --------------------------------------------------
# 2. Force .html resolution for clean URLs
#    Example: /about â†’ /about.html
# --------------------------------------------------
RewriteRule ^([^/.]+)$ $1.html [L]
RewriteRule ^([^/.]+)/([^/.]+)$ $1/$2.html [L]

# --------------------------------------------------
# 3. Handle root index
# --------------------------------------------------
RewriteRule ^$ index.html [L]

# --------------------------------------------------
# 4. PHP endpoints (don't rewrite)
# --------------------------------------------------
RewriteRule ^(order|contact|subscribe)\.php$ - [L]

# --------------------------------------------------
# 5. Protect .env
# --------------------------------------------------
<Files ".env">
    Require all denied
</Files>

# --------------------------------------------------
# Optional: prevent directory listing
# --------------------------------------------------
Options -Indexes
